import{r as c,s as x,z as m,j as L,f as r,o as i,a as d,u as h,g as N,w as b,b as t,i as M,D as T,e as R,h as S,F as p,G as C,t as s,S as B,n as O,W as A}from"./app-BEsV2jyy.js";import{C as V}from"./CollectorLayout-Bkfag_t2.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo1-BZ0h4foK.js";const I={class:"main-section bg-light"},$={class:"mb-3 px-3"},E={class:"table-responsive"},P={class:"table table-bordered align-middle text-center"},j={key:0},z={class:"pagination-wrapper mt-3 mb-5 pb-5 pt-3"},F=["onClick","innerHTML"],G={__name:"RegisteredMember",props:{members:{type:Object,default:()=>({data:[],links:[],prev_page_url:null,next_page_url:null})}},setup(y){const f=y;let u=c([]);const a=c(""),g=c(null);x(()=>f.members,async n=>{u.value=n.data||[],await m(),k()},{immediate:!0});const v=L(()=>a.value?u.value.filter(n=>`${n.first_name} ${n.middle_name||""} ${n.last_name}`.toLowerCase().includes(a.value.toLowerCase())||(n.contact_number||"").toLowerCase().includes(a.value.toLowerCase())||(n.purok||"").toLowerCase().includes(a.value.toLowerCase())):u.value),w=n=>{n&&A.get(n,{},{preserveScroll:!0,preserveState:!0})},k=()=>{const n=g.value;if(!n)return;const l=n.querySelector(".btn.btn-primary");if(l){const e=n.getBoundingClientRect(),o=l.getBoundingClientRect(),_=o.left-e.left-e.width/2+o.width/2;n.scrollTo({left:n.scrollLeft+_,behavior:"smooth"})}};return(n,l)=>(i(),r(p,null,[d(h(N),{title:"Registered members"}),d(V,null,{default:b(()=>[t("div",I,[l[4]||(l[4]=t("div",null,[t("h5",{class:"ms-3 fw-light"},[t("span",{class:"d-none d-sm-none d-lg-inline-block me-2"},"Registered"),t("span",null,"Members")])],-1)),t("div",$,[M(t("input",{type:"text",class:"form-control",placeholder:"Search members by name, contact, or purok...","onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e)},null,512),[[T,a.value]])]),t("div",E,[t("table",P,[l[3]||(l[3]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"ID"),t("th",null,[t("i",{class:"bi bi-person"}),R(" NAME")]),t("th",null,"AGE"),t("th",null,"CONTACT NO."),t("th",null,"PUROK"),t("th",null,"ACTION")])],-1)),t("tbody",null,[(i(!0),r(p,null,C(v.value,(e,o)=>(i(),r("tr",{key:o},[t("td",null,s(e.id),1),t("td",null,s(e==null?void 0:e.first_name)+" "+s(e==null?void 0:e.middle_name)+" "+s(e==null?void 0:e.last_name),1),t("td",null,s(e.age),1),t("td",null,s(e.contact_number),1),t("td",null,s(e.purok),1),t("td",null,[d(h(B),{href:n.route("viewMemberInfo",{id:e==null?void 0:e.id}),class:"btn btn-sm btn-outline-dark me-1 border-0"},{default:b(()=>l[1]||(l[1]=[t("i",{class:"bi bi-eye fs-5"},null,-1)])),_:2},1032,["href"])])]))),128)),v.value.length===0?(i(),r("tr",j,l[2]||(l[2]=[t("td",{colspan:"6",class:"text-center text-muted"},"No members found",-1)]))):S("",!0)])])]),t("div",z,[t("div",{class:"pagination-controls",ref_key:"paginationContainer",ref:g},[(i(!0),r(p,null,C(f.members.links,(e,o)=>(i(),r("button",{key:o,class:O(["btn pagination-btn",e.active?"btn-primary":"btn-outline-primary"]),onClick:_=>w(e.url),innerHTML:e.label},null,10,F))),128))],512)])])]),_:1})],64))}},K=D(G,[["__scopeId","data-v-3bccb419"]]);export{K as default};
