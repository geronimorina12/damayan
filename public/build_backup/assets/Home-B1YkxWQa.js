import{r as p,s as v,f as r,o as a,b as e,u as c,F as k,G as x,t as i,W as _,a as b,g as O,w,S as A,e as $}from"./app-CV9WLblb.js";import{A as C}from"./AdminLayout-ChAVeCb1.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo1-BZ0h4foK.js";const S={class:"main-section bg-light"},E={key:0,class:"table-responsive"},T={class:"table table-bordered align-middle text-center"},D={class:"form-check form-switch d-inline-flex justify-content-center"},I=["checked"],j={class:"d-flex flex-row justify-content-center align-items-center action-buttons"},L=["onClick"],R=["onClick"],V={key:1,class:"container text-center mt-3"},B={__name:"Official",props:{officials:{type:Array,default:()=>[]}},setup(g){const u=g;let d=p([]);v(()=>u.officials,o=>{d.value=o},{immediate:!0});const m=o=>{confirm("Are you sure you want to delete this member permanently?")&&_.delete(route("officialArchive.deleteOfficial",{id:o}),{onSuccess:()=>{alert("Member deleted successfully...")},onError:n=>console.log("An error occurred while deleting data.",n)})},h=o=>{confirm("Are you sure you want to restore this official?")&&_.post(route("officialArchived.restoreOfficial",{id:o}),{onSuccess:()=>{alert("Official restored successfully...")},onError:n=>console.log("An error occurred while restoring data.",n)})},f=o=>{const n={year:"numeric"};return new Date(o).toLocaleDateString(void 0,n)};return(o,n)=>(a(),r("div",S,[n[4]||(n[4]=e("div",{class:"container-fluid d-flex flex-row justify-content-between align-items-center mb-2 flex-wrap"},[e("div",{class:"d-flex flex-row justify-content-between align-items-center w-100"},[e("p",{class:"text-muted mb-0"},"Officials")])],-1)),c(d).length>0?(a(),r("div",E,[e("table",T,[n[2]||(n[2]=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"ID"),e("th",null,"NAME"),e("th",null,"POSITION"),e("th",null,"TERM"),e("th",null,"STATUS"),e("th",null,"ACTION")])],-1)),e("tbody",null,[(a(!0),r(k,null,x(c(d),(l,t)=>(a(),r("tr",{key:t},[e("td",null,i(t+1),1),e("td",null,i(l==null?void 0:l.name),1),e("td",null,i(l.position||"N/A"),1),e("td",null,i(f(l.term_start))+" - "+i(f(l.term_end)),1),e("td",null,[e("div",D,[e("input",{class:"form-check-input",type:"checkbox",checked:l.status===1,title:"can't modify",disabled:""},null,8,I)])]),e("td",null,[e("div",j,[e("button",{class:"btn btn-sm btn-outline-dark me-2",onClick:s=>m(l.id),title:"delete permanently"},n[0]||(n[0]=[e("i",{class:"bi bi-trash"},null,-1)]),8,L),e("button",{class:"btn btn-sm btn-outline-dark",onClick:s=>h(l.id),title:"restore"},n[1]||(n[1]=[e("i",{class:"bi bi-arrow-clockwise"},null,-1)]),8,R)])])]))),128))])])])):(a(),r("div",V,n[3]||(n[3]=[e("h5",{class:"text-dark fw-light"},"No Official's Archive Data.",-1)])))]))}},G=M(B,[["__scopeId","data-v-4ca41651"]]),P={class:"main-section bg-light"},F={class:"container-fluid d-flex flex-row justify-content-between align-items-center mb-2 flex-wrap"},H={class:"mt-2 mt-md-0"},U={key:0,class:"container"},W={class:"table-responsive"},q={class:"table table-bordered align-middle text-center"},z={class:"d-flex flex-row justify-content-center align-items-center action-buttons"},J=["onClick"],K=["onClick"],Q={key:1,class:"container text-center mt-3"},X={__name:"Home",props:{members:{type:Array,default:()=>[]},deceasedMembers:{type:Array,default:()=>[]},officials:{type:Array,default:()=>[]}},setup(g){const u=g;let d=p([]);const m=p([]);let h=p([]);v(()=>u.officials,l=>{h.value=l},{immediate:!0}),v(()=>u.deceasedMembers,l=>{m.value=l,f()},{immediate:!0}),v(()=>u.members,l=>{f(l)},{immediate:!0});function f(l=u.members){if(!l){d.value=[];return}d.value=l.filter(t=>{const s=`${t.first_name} ${t.last_name}`.toLowerCase();return!m.value.some(y=>y.deceased_name.toLowerCase()===s)})}const o=l=>{confirm("Are you sure you want to delete this member permanently?")&&_.delete(route("archive.deleteMember",{id:l}),{onSuccess:()=>{alert("Member deleted successfully...")},onError:t=>console.log("An error occurred while deleting data.",t)})},n=l=>{confirm("Are you sure you want to undo this member?")&&_.post(route("archive.undo",{id:l}),{onSuccess:()=>{alert("Member restored successfully...")},onError:t=>console.log("An error occurred while restoring data.",t)})};return(l,t)=>(a(),r(k,null,[b(c(O),{title:"Registered members"}),b(C,null,{default:w(()=>[e("div",P,[e("div",F,[t[1]||(t[1]=e("div",null,[e("h5",{class:"fw-semibold fs-3 mb-0"},"Archived")],-1)),e("div",H,[b(c(A),{href:l.route("archive.viewDeceasedMember"),class:"btn btn-dark"},{default:w(()=>t[0]||(t[0]=[e("span",{class:"d-none d-md-inline"},"View Deceased Member",-1),e("i",{class:"bi bi-eye d-inline d-md-none"},null,-1)])),_:1},8,["href"])])]),t[7]||(t[7]=e("p",{class:"text-muted ms-2"},"Members",-1)),c(d).length?(a(),r("div",U,[e("div",W,[e("table",q,[t[5]||(t[5]=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"ID"),e("th",null,[e("i",{class:"bi bi-person"}),$(" NAME")]),e("th",null,"GENDER"),e("th",null,"AGE"),e("th",null,"CONTACT NO."),e("th",null,"STREET"),e("th",null,"STATUS"),e("th",null,"ACTION")])],-1)),e("tbody",null,[(a(!0),r(k,null,x(c(d),(s,y)=>(a(),r("tr",{key:y},[e("td",null,i(y+1),1),e("td",null,i(s==null?void 0:s.first_name)+" "+i(s==null?void 0:s.middle_name)+" "+i(s==null?void 0:s.last_name),1),e("td",null,i(s.gender||"N/A"),1),e("td",null,i(s.age),1),e("td",null,i(s.contact_number),1),e("td",null,i(s.purok),1),e("td",null,i(s.status),1),e("td",null,[e("div",z,[b(c(A),{href:l.route("archive.view",{id:s==null?void 0:s.id}),class:"btn btn-sm btn-outline-dark me-1",title:"view info."},{default:w(()=>t[2]||(t[2]=[e("i",{class:"bi bi-eye"},null,-1)])),_:2},1032,["href"]),e("button",{class:"btn btn-sm btn-outline-dark me-1",onClick:N=>o(s.id),title:"delete permanently"},t[3]||(t[3]=[e("i",{class:"bi bi-trash"},null,-1)]),8,J),e("button",{class:"btn btn-sm btn-outline-dark",onClick:N=>n(s.id),title:"undo delete"},t[4]||(t[4]=[e("i",{class:"bi bi-arrow-counterclockwise"},null,-1)]),8,K)])])]))),128))])])])])):(a(),r("div",Q,t[6]||(t[6]=[e("h5",{class:"text-dark fw-light"},"No Member's Archive Data.",-1)]))),b(G,{officials:c(h)},null,8,["officials"])])]),_:1})],64))}},le=M(X,[["__scopeId","data-v-d80a14ba"]]);export{le as default};
