import{K as _,r as u,C as h,j as v,f as k,o as S,b as l,t as I,W as m}from"./app-FxwxEWAe.js";const M={class:"d-flex flex-column align-items-center",style:{height:"120px"}},N={class:"d-flex align-items-center gap-4"},y={class:"fw-bold text-dark mb-0"},w={__name:"ToggleContribution",props:_({data:{type:Object,default:()=>({})},allDeceased:{type:Array,default:()=>[]},purok:{type:String,default:()=>""}},{deceased:{},deceasedModifiers:{}}),emits:["update:deceased"],setup(d){const t=d,f=u(t.data.report_id??null);u(t.data.member_id??null);const b=h(d,"deceased"),c=v(()=>t.allDeceased.findIndex(r=>Number(r.report_id)===Number(f.value)));function g(r){var o;if(!t.allDeceased.length)return-1;const e=t.allDeceased.length,n=(o=t.allDeceased[r])==null?void 0:o.member_id;for(let s=1;s<=e;s++){const i=(r+s)%e,a=t.allDeceased[i];if(a&&String(a.member_id)!==String(n))return i}return-1}function p(r){var o;if(!t.allDeceased.length)return-1;const e=t.allDeceased.length,n=(o=t.allDeceased[r])==null?void 0:o.member_id;for(let s=1;s<=e;s++){const i=(r-s+e)%e,a=t.allDeceased[i];if(a&&String(a.member_id)!==String(n))return i}return-1}const x=()=>{const r=c.value;if(r===-1)return;const e=p(r);if(e===-1)return;const n=t.allDeceased[e];n&&m.get(route("filterContribution.toggle",{id:n.member_id,purok:t.purok}),{},{preserveScroll:!0})},D=()=>{console.log("purok:",t.purok);const r=c.value;if(r===-1)return;const e=g(r);if(e===-1)return;const n=t.allDeceased[e];n&&(b.value=n,m.get(route("filterContribution.toggle",{id:n.member_id,purok:t.purok}),{},{preserveScroll:!0}))};return(r,e)=>(S(),k("div",M,[e[2]||(e[2]=l("h5",{class:"mb-3"},"This contribution belongs to:",-1)),l("div",N,[l("button",{onClick:x,class:"btn btn-light rounded-circle shadow-sm"},e[0]||(e[0]=[l("i",{class:"bi bi-arrow-left fs-4"},null,-1)])),l("h5",y,I(t.data.deceased_name||"No name available"),1),l("button",{onClick:D,class:"btn btn-light rounded-circle shadow-sm"},e[1]||(e[1]=[l("i",{class:"bi bi-arrow-right fs-4"},null,-1)]))])]))}};export{w as _};
