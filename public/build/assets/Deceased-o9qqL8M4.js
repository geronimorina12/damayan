import{l as h,c as k,o as n,w as i,b as e,f as l,a as _,e as u,F as g,E as D,t as a,u as v,S as A,W as c}from"./app-lJPr0_lx.js";import{A as w}from"./AdminLayout-BfAzXtKV.js";import"./logo1-BZ0h4foK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"container mt-3"},M={key:0,class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},x={class:"table"},S=["onClick"],C=["onClick"],N={key:1,class:"container text-center fs-5"},R={__name:"Deceased",props:{deceasedMembers:{type:Array,default:()=>[]}},setup(p){const r=h(p.deceasedMembers||[]);console.log(r);const b=o=>{const t={year:"numeric",month:"long",day:"numeric"};return new Date(o).toLocaleDateString(void 0,t)},f=o=>{confirm("Are you sure you want to undo this member?")&&c.post(route("deathReport.undo",{id:o}),{onSuccess:()=>{alert("Member restored successfully...")},onError:t=>console.log("An error occured while restoring data.",t)})},m=o=>{confirm("Are you sure you want to delete this member permanently?")&&c.delete(route("deathReport.deletePermanently",{id:o}),{onSuccess:()=>{alert("Member deleted successfully...")},onError:t=>console.log("An error occured while deleting data.",t)})};return(o,t)=>(n(),k(w,null,{default:i(()=>[e("div",null,[e("div",E,[t[4]||(t[4]=e("p",{class:"text-muted"},"Deceased Members",-1)),r.value.length!=0?(n(),l("div",M,[e("table",x,[t[2]||(t[2]=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"ID"),e("th",null,[e("i",{class:"bi bi-person"}),u(" NAME")]),e("th",null,"DECEASED DATE"),e("th",null,"Actions")])],-1)),e("tbody",null,[(n(!0),l(g,null,D(r.value,(s,d)=>(n(),l("tr",{key:d},[e("td",null,a(d+1),1),e("td",null,a(s==null?void 0:s.deceased_name),1),e("td",null,a(b(s==null?void 0:s.date_of_death)),1),e("td",null,[e("button",{class:"btn btn-sm btn-outline-dark me-1",onClick:y=>m(s.member_id),title:"delete permanently"},t[0]||(t[0]=[e("i",{class:"bi bi-trash"},null,-1)]),8,S),e("button",{class:"btn btn-sm btn-outline-dark",onClick:y=>f(s.member_id),title:"undo delete"},t[1]||(t[1]=[e("i",{class:"bi bi-arrow-counterclockwise"},null,-1)]),8,C)])]))),128))])])])):(n(),l("div",N," No Deceased Members Found. ")),_(v(A),{href:o.route("archive.index"),class:"btn btn-dark mt-2"},{default:i(()=>t[3]||(t[3]=[u(" Go back ")])),_:1},8,["href"])])])]),_:1}))}};export{R as default};
