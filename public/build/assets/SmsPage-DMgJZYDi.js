import{j as n,r as u,f as r,o as i,a as c,w as S,b as e,h as k,u as x,g as U,W as w}from"./app-CcIIfv8-.js";import{A as F}from"./AdminLayout-D7kRxRGk.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo1-BZ0h4foK.js";const h={class:"container"},C={class:"scroll-content"},A={class:"mb-4 position-relative"},j=["value"],N={key:0,class:"modal-backdrop show d-block"},B={__name:"SmsPage",props:{deathReport:{type:Object,default:()=>({})},scheduleContribution:{type:Object,default:()=>({})},reminders:{type:Object,default:()=>({})},fundUpdates:{type:Object,default:()=>({})},members:{type:Array,default:()=>[]},fundAmount:{type:Number,default:0}},setup(m){const s=m;n(()=>s.deathReport),n(()=>s.scheduleContribution),n(()=>s.reminders);const d=n(()=>s.fundUpdates);n(()=>s.members);const p=n(()=>s.fundAmount),l=u(!1),o=u(null),f=()=>{o.value&&o.value(),l.value=!1,o.value=null},v=()=>{l.value=!1,o.value=null},b=a=>{p.value===0?(l.value=!0,o.value=a):a()};function y(){w.post(route("smsNotification.sendFundUpdates"),{message:d.value},{onSuccess:()=>alert("Fund Updates sent successfully!"),onError:a=>console.log("Error sending Fund Updates",a)})}const g=()=>{b(y)};return(a,t)=>(i(),r("div",null,[c(F,null,{default:S(()=>[c(x(U),{title:"Sms notification"}),e("div",h,[t[3]||(t[3]=e("h4",{class:"mb-4 fw-bold sticky-header text-start ps-2 pt-3"},"SMS",-1)),e("div",C,[e("div",A,[t[1]||(t[1]=e("div",null,[e("label",{for:"fundUpdates",class:"form-label"},"Fund Updates")],-1)),e("textarea",{value:d.value.message,id:"fundUpdates",class:"form-control",disabled:""},null,8,j),e("div",{class:"container-fluid d-flex flex-row align-items-center gap-3 justify-content-end mt-3"},[t[0]||(t[0]=e("div",null,null,-1)),e("div",null,[e("button",{class:"save-btn text-uppercase",onClick:g},"send")])])]),t[2]||(t[2]=e("div",{class:"container extra-space w-100"},null,-1))])]),l.value?(i(),r("div",N,[e("div",{class:"modal d-block fade",tabindex:"-1"},[e("div",{class:"modal-dialog modal-dialog-centered"},[e("div",{class:"modal-content"},[t[4]||(t[4]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Confirm Send")],-1)),t[5]||(t[5]=e("div",{class:"modal-body"},[e("p",null,"There's no fund collected as for now, are you sure you want to send?")],-1)),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary",onClick:v},"Cancel"),e("button",{type:"button",class:"btn btn-primary",onClick:f},"Send Anyway")])])])])])):k("",!0)]),_:1})]))}},P=_(B,[["__scopeId","data-v-d65d705e"]]);export{P as default};
