import{l as y,q as p,f as r,o as a,b as e,u,F as w,E as M,t as i,W as g,a as b,g as $,w as k,S as A,e as x}from"./app-lJPr0_lx.js";import{A as O}from"./AdminLayout-BfAzXtKV.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo1-BZ0h4foK.js";const E={class:"main-section bg-light"},S={key:0,class:"table-responsive"},D={class:"table table-bordered align-middle text-center"},T={class:"form-check form-switch d-inline-flex justify-content-center"},I=["checked"],j=["onClick"],L=["onClick"],V={key:1,class:"container text-center mt-3"},B={__name:"Official",props:{officials:{type:Array,default:()=>[]}},setup(_){const c=_;let d=y([]);p(()=>c.officials,o=>{d.value=o},{immediate:!0});const h=o=>{confirm("Are you sure you want to delete this member permanently?")&&g.delete(route("officialArchive.deleteOfficial",{id:o}),{onSuccess:()=>{alert("Member deleted successfully...")},onError:n=>console.log("An error occured while deleting data.",n)})},f=o=>{const n={year:"numeric"};return new Date(o).toLocaleDateString(void 0,n)},m=o=>{confirm("Are you sure you want to restore this official?")&&g.post(route("officialArchived.restoreOfficial",{id:o}),{onSuccess:()=>{alert("Official restored successfully...")},onError:n=>console.log("An error occured while restoring data.",n)})};return(o,n)=>(a(),r("div",E,[n[4]||(n[4]=e("div",{class:"container-fluid d-flex flex-row justify-content-between align-items-center mb-2"},[e("div",{class:"container-fluid d-flex flex-row justify-content-between px-0 align-items-center"},[e("div",null,[e("div",null,[e("p",{class:"text-muted"},"Officials")])])])],-1)),u(d).length>0?(a(),r("div",S,[e("table",D,[n[2]||(n[2]=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"ID"),e("th",null," NAME"),e("th",null,"Position"),e("th",null,"Term"),e("th",null,"STATUS"),e("th",null,"ACTION")])],-1)),e("tbody",null,[(a(!0),r(w,null,M(u(d),(l,t)=>(a(),r("tr",{key:t},[e("td",null,i(t+1),1),e("td",null,i(l==null?void 0:l.name),1),e("td",null,i(l.position||"N/A"),1),e("td",null,i(f(l.term_start))+" - "+i(f(l.term_end)),1),e("td",null,[e("div",T,[e("input",{class:"form-check-input",type:"checkbox",checked:l.status===1,title:"can't modify",disabled:""},null,8,I)])]),e("td",null,[e("button",{class:"btn btn-sm btn-outline-dark me-2",onClick:s=>h(l.id),title:"delete permanently"},n[0]||(n[0]=[e("i",{class:"bi bi-trash"},null,-1)]),8,j),e("button",{class:"btn btn-sm btn-outline-dark",onClick:s=>m(l.id),title:"restore"},n[1]||(n[1]=[e("i",{class:"bi bi-arrow-clockwise"},null,-1)]),8,L)])]))),128))])])])):(a(),r("div",V,n[3]||(n[3]=[e("h5",{class:"text-dark fw-light"},"No Official's Archive Data.",-1)])))]))}},P=C(B,[["__scopeId","data-v-6f8bb174"]]),R={class:"main-section bg-light"},F={class:"container-fluid d-flex flex-row justify-content-between align-items-center mb-2"},G={key:0,class:"container"},H={class:"table-responsive"},U={class:"table table-bordered align-middle text-center"},W=["onClick"],q=["onClick"],z={key:1,class:"container text-center mt-3"},J={__name:"Home",props:{members:{type:Array,default:()=>[]},deceasedMembers:{type:Array,default:()=>[]},officials:{type:Array,default:()=>[]}},setup(_){const c=_;let d=y([]);const h=y([]);let f=y([]);p(()=>c.officials,l=>{f.value=l},{immediate:!0}),p(()=>c.deceasedMembers,l=>{h.value=l,m()},{immediate:!0}),p(()=>c.members,l=>{m(l)},{immediate:!0});function m(l=c.members){if(!l){d.value=[];return}d.value=l.filter(t=>{const s=`${t.first_name} ${t.last_name}`.toLowerCase();return!h.value.some(v=>v.deceased_name.toLowerCase()===s)})}const o=l=>{confirm("Are you sure you want to delete this member permanently?")&&g.delete(route("archive.deleteMember",{id:l}),{onSuccess:()=>{alert("Member deleted successfully...")},onError:t=>console.log("An error occured while deleting data.",t)})},n=l=>{confirm("Are you sure you want to undo this member?")&&g.post(route("archive.undo",{id:l}),{onSuccess:()=>{alert("Member restored successfully...")},onError:t=>console.log("An error occurred while restoring data.",t)})};return(l,t)=>(a(),r(w,null,[b(u($),{title:"Registered members"}),b(O,null,{default:k(()=>[e("div",R,[e("div",F,[t[1]||(t[1]=e("div",{class:""},[e("div",null,[e("div",null,[e("h5",{class:"fw-semibold fs-3"},"Archived")])])],-1)),e("div",null,[b(u(A),{href:l.route("archive.viewDeceasedMember"),class:"btn btn-dark"},{default:k(()=>t[0]||(t[0]=[x("View Deceased Member")])),_:1},8,["href"])])]),t[7]||(t[7]=e("p",{class:"text-muted ms-2"},"Members",-1)),u(d).length?(a(),r("div",G,[e("div",H,[e("table",U,[t[5]||(t[5]=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"ID"),e("th",null,[e("i",{class:"bi bi-person"}),x(" NAME")]),e("th",null,"GENDER"),e("th",null,"AGE"),e("th",null,"CONTACT NO."),e("th",null,"STREET"),e("th",null,"STATUS"),e("th",null,"ACTION")])],-1)),e("tbody",null,[(a(!0),r(w,null,M(u(d),(s,v)=>(a(),r("tr",{key:v},[e("td",null,i(v+1),1),e("td",null,i(s==null?void 0:s.first_name)+" "+i(s==null?void 0:s.middle_name)+" "+i(s==null?void 0:s.last_name),1),e("td",null,i(s.gender||"N/A"),1),e("td",null,i(s.age),1),e("td",null,i(s.contact_number),1),e("td",null,i(s.purok),1),e("td",null,i(s.status),1),e("td",null,[b(u(A),{href:l.route("archive.view",{id:s==null?void 0:s.id}),class:"btn btn-sm btn-outline-dark me-1",title:"view info."},{default:k(()=>t[2]||(t[2]=[e("i",{class:"bi bi-eye"},null,-1)])),_:2},1032,["href"]),e("button",{class:"btn btn-sm btn-outline-dark me-1",onClick:N=>o(s.id),title:"delete permanently"},t[3]||(t[3]=[e("i",{class:"bi bi-trash"},null,-1)]),8,W),e("button",{class:"btn btn-sm btn-outline-dark",onClick:N=>n(s.id),title:"undo delete"},t[4]||(t[4]=[e("i",{class:"bi bi-arrow-counterclockwise"},null,-1)]),8,q)])]))),128))])])])])):(a(),r("div",z,t[6]||(t[6]=[e("h5",{class:"text-dark fw-light"},"No Member's Archive Data.",-1)]))),b(P,{officials:u(f)},null,8,["officials"])])]),_:1})],64))}},Z=C(J,[["__scopeId","data-v-75570c3d"]]);export{Z as default};
