import{M as _,r as u,C as h,j as v,f as k,o as M,b as i,t as S,W as m}from"./app-CcIIfv8-.js";const I={class:"d-flex flex-column align-items-center",style:{height:"120px"}},N={class:"d-flex align-items-center gap-4"},y={class:"fw-bold text-dark mb-0"},w={__name:"ToggleContribution",props:_({data:{type:Object,default:()=>({})},allDeceased:{type:Array,default:()=>[]},purok:{type:String,default:()=>""}},{deceased:{},deceasedModifiers:{}}),emits:["update:deceased"],setup(d){const t=d,f=u(t.data.report_id??null);u(t.data.member_id??null);const b=h(d,"deceased"),c=v(()=>t.allDeceased.findIndex(r=>Number(r.report_id)===Number(f.value)));function g(r){var l;if(!t.allDeceased.length)return-1;const e=t.allDeceased.length,n=(l=t.allDeceased[r])==null?void 0:l.member_id;for(let s=1;s<=e;s++){const o=(r+s)%e,a=t.allDeceased[o];if(a&&String(a.member_id)!==String(n))return o}return-1}function p(r){var l;if(!t.allDeceased.length)return-1;const e=t.allDeceased.length,n=(l=t.allDeceased[r])==null?void 0:l.member_id;for(let s=1;s<=e;s++){const o=(r-s+e)%e,a=t.allDeceased[o];if(a&&String(a.member_id)!==String(n))return o}return-1}const x=()=>{const r=c.value;if(r===-1)return;const e=p(r);if(e===-1)return;const n=t.allDeceased[e];n&&m.get(route("filterContribution.toggle",{id:n.member_id,purok:t.purok}),{},{preserveScroll:!0})},D=()=>{const r=c.value;if(r===-1)return;const e=g(r);if(e===-1)return;const n=t.allDeceased[e];n&&(b.value=n,m.get(route("filterContribution.toggle",{id:n.member_id,purok:t.purok}),{},{preserveScroll:!0}))};return(r,e)=>(M(),k("div",I,[e[2]||(e[2]=i("h5",{class:"mb-3"},"This contribution belongs to:",-1)),i("div",N,[i("button",{onClick:x,class:"btn btn-light rounded-circle shadow-sm"},e[0]||(e[0]=[i("i",{class:"bi bi-arrow-left fs-4"},null,-1)])),i("h5",y,S(t.data.deceased_name||"No name available"),1),i("button",{onClick:D,class:"btn btn-light rounded-circle shadow-sm"},e[1]||(e[1]=[i("i",{class:"bi bi-arrow-right fs-4"},null,-1)]))])]))}};export{w as _};
