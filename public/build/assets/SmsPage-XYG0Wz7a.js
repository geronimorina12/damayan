import{j as n,r,f as u,o as i,a as c,w as y,b as e,h as S,u as k,g as x,W as U}from"./app-BrCd4CiO.js";import{A as F}from"./AdminLayout-DjuTBwzp.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo1-BZ0h4foK.js";const h={class:"container"},w={class:"scroll-content"},A={class:"mb-4 position-relative"},C=["value"],N={key:0,class:"modal-backdrop show d-block"},j={__name:"SmsPage",props:{deathReport:{type:Object,default:()=>({})},scheduleContribution:{type:Object,default:()=>({})},reminders:{type:String,default:""},fundUpdates:{type:String,default:""},members:{type:Array,default:()=>[]},fundAmount:{type:Number,default:0}},setup(m){const s=m;console.log("Props received in SmsPage:",s),n(()=>s.deathReport),n(()=>s.scheduleContribution),n(()=>s.reminders);const a=n(()=>s.fundUpdates);n(()=>s.members);const p=n(()=>s.fundAmount),d=r(!1),l=r(null),f=()=>{d.value=!1,l.value=null},v=o=>{p.value===0?(d.value=!0,l.value=o):o()};function b(){U.post(route("smsNotification.sendFundUpdates"),{message:a.value},{onSuccess:()=>alert("Fund Updates sent successfully!"),onError:o=>console.log("Error sending Fund Updates",o)})}const g=()=>{v(b)};return(o,t)=>(i(),u("div",null,[c(F,null,{default:y(()=>[c(k(x),{title:"Sms notification"}),e("div",h,[t[3]||(t[3]=e("h4",{class:"mb-4 fw-bold sticky-header text-start ps-2 pt-3"},"SMS",-1)),e("div",w,[e("div",A,[t[1]||(t[1]=e("div",null,[e("label",{for:"fundUpdates",class:"form-label"},"Fund Updates")],-1)),e("textarea",{value:a.value,id:"fundUpdates",class:"form-control",disabled:""},null,8,C),e("div",{class:"container-fluid d-flex flex-row align-items-center gap-3 justify-content-end mt-3"},[t[0]||(t[0]=e("div",null,null,-1)),e("div",null,[e("button",{class:"save-btn text-uppercase",onClick:g},"send")])])]),t[2]||(t[2]=e("div",{class:"container extra-space w-100"},null,-1))])]),d.value?(i(),u("div",N,[e("div",{class:"modal d-block fade",tabindex:"-1"},[e("div",{class:"modal-dialog modal-dialog-centered"},[e("div",{class:"modal-content"},[t[4]||(t[4]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Confirm Send")],-1)),t[5]||(t[5]=e("div",{class:"modal-body"},[e("p",null,"There's no fund collected as for now.")],-1)),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary",onClick:f},"Ok")])])])])])):S("",!0)]),_:1})]))}},V=_(j,[["__scopeId","data-v-b960744f"]]);export{V as default};
