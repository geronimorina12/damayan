import{r as p,x as V,f as i,o as u,a as b,u as s,g as U,w as A,b as e,d as f,i as n,D as a,I as v,h as M,t as m,F as _,G as k}from"./app-BKViIBP_.js";import{A as q}from"./AdminLayout-CPy_5tl1.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo1-BZ0h4foK.js";const S={class:"container-fluid d-flex flex-row justify-content-center align-items-center main-container"},C={class:"container mt-5"},D={class:"row mb-3 d-flex align-items-center"},N={class:"col col-6"},F={class:"col col-6"},L={class:"row mb-3"},E={class:"col col-6"},R={class:"col col-6"},j={class:"row mb-3"},I={class:"col col-6"},G={class:"col col-6"},P={class:"row mb-3"},$={class:"col col-6"},O={class:"col col-6"},T={class:"row mb-3"},z={class:"col col-6"},H={class:"col col-6"},J={key:0,class:"text-danger mt-1"},K={class:"row mb-3"},Q={class:"col col-6"},W={key:0,class:"container text-center mt-5 fs-4"},X={key:1},Y={class:"table table-responsive bg-light"},Z={class:"tbody"},ee={class:"td"},te={class:"td"},oe={class:"td"},le={class:"td"},se=["onClick"],ne={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ae={class:"modal-dialog"},de={class:"modal-content"},re={class:"modal-body"},ie={__name:"AddNewMember",setup(ue){const d=p({name:"",relation:"",age:"",birth_date:""}),r=p([]),l=V({first_name:"",last_name:"",address:"",contact_number:"",date_of_birth:"",purok:"",age:"",middle_name:"",status:"",occupation:"",gender:"",beneficiaries:[]}),y=()=>{if(l.clearErrors(),!/^0\d{10}$/.test(l.contact_number)){l.setError("contact_number","Contact number must start with 0 and be exactly 11 digits.");return}l.beneficiaries=r.value,l.post(route("addMemberPost"),{onSuccess:()=>alert("Member added successfully."),onError:t=>console.log("An error occurred => ",t)})},g=()=>{r.value.push({...d.value}),d.value={name:"",relation:"",age:"",birth_date:""}},h=c=>{r.value.splice(c,1)},x=c=>{const t={year:"numeric",month:"long",day:"numeric"};return new Date(c).toLocaleDateString(void 0,t)};return(c,t)=>(u(),i(_,null,[b(s(U),{title:"Add new member"}),b(q,null,{default:A(()=>[e("div",null,[e("div",S,[e("div",C,[e("form",{onSubmit:f(y,["prevent"]),class:"form"},[e("div",D,[e("div",N,[n(e("input",{type:"text",class:"form-control mt-3",placeholder:"Last name","onUpdate:modelValue":t[0]||(t[0]=o=>s(l).last_name=o)},null,512),[[a,s(l).last_name]])]),e("div",F,[t[15]||(t[15]=e("label",null,"Birth date",-1)),n(e("input",{type:"date",class:"form-control",placeholder:"Birth date","onUpdate:modelValue":t[1]||(t[1]=o=>s(l).date_of_birth=o)},null,512),[[a,s(l).date_of_birth]])])]),e("div",L,[e("div",E,[n(e("input",{type:"text",class:"form-control",placeholder:"First name","onUpdate:modelValue":t[2]||(t[2]=o=>s(l).first_name=o),required:""},null,512),[[a,s(l).first_name]])]),e("div",R,[n(e("input",{type:"number",class:"form-control",placeholder:"Age","onUpdate:modelValue":t[3]||(t[3]=o=>s(l).age=o),required:""},null,512),[[a,s(l).age]])])]),e("div",j,[e("div",I,[n(e("input",{type:"text",class:"form-control",placeholder:"Middle name","onUpdate:modelValue":t[4]||(t[4]=o=>s(l).middle_name=o),required:""},null,512),[[a,s(l).middle_name]])]),e("div",G,[n(e("select",{name:"gender",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=o=>s(l).gender=o),required:""},t[16]||(t[16]=[e("option",{value:"",disabled:""},"Gender",-1),e("option",{value:"Male"},"Male",-1),e("option",{value:"Female"},"Female",-1)]),512),[[v,s(l).gender]])])]),e("div",P,[e("div",$,[n(e("select",{name:"gender",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=o=>s(l).status=o),required:""},t[17]||(t[17]=[e("option",{value:"",disabled:""},"Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)]),512),[[v,s(l).status]])]),e("div",O,[n(e("input",{type:"number",class:"form-control",placeholder:"Purok","onUpdate:modelValue":t[7]||(t[7]=o=>s(l).purok=o),required:""},null,512),[[a,s(l).purok]])])]),e("div",T,[e("div",z,[n(e("input",{type:"text",class:"form-control",placeholder:"Occupation","onUpdate:modelValue":t[8]||(t[8]=o=>s(l).occupation=o),required:""},null,512),[[a,s(l).occupation]])]),e("div",H,[n(e("input",{type:"text",class:"form-control",placeholder:"Contact no.","onUpdate:modelValue":t[9]||(t[9]=o=>s(l).contact_number=o),pattern:"[0-9]*",inputmode:"numeric"},null,512),[[a,s(l).contact_number]]),s(l).errors.contact_number?(u(),i("div",J,m(s(l).errors.contact_number),1)):M("",!0)])]),e("div",K,[e("div",Q,[n(e("input",{type:"text",class:"form-control",placeholder:"Address","onUpdate:modelValue":t[10]||(t[10]=o=>s(l).address=o),required:""},null,512),[[a,s(l).address]])])]),r.value!=null&&r.value.length<1?(u(),i("div",W," No beneficiary added ")):(u(),i("div",X,[t[19]||(t[19]=e("h5",{class:"text-dark fw-light pt-2"},"Beneficiary",-1)),e("table",Y,[t[18]||(t[18]=e("thead",{class:"thead"},[e("tr",null,[e("th",null,"Name"),e("th",null,"Relation"),e("th",null,"Age"),e("th",null,"Bithdate"),e("th",null,"Action")])],-1)),e("tbody",Z,[(u(!0),i(_,null,k(r.value,(o,w)=>(u(),i("tr",{class:"tr",key:o.id},[e("td",ee,m(o==null?void 0:o.name),1),e("td",te,m(o==null?void 0:o.relation),1),e("td",oe,m(o==null?void 0:o.age),1),e("td",le,m(x(o==null?void 0:o.birth_date)),1),e("th",null,[e("button",{class:"btn btn-danger",onClick:ce=>h(w,o.id)}," Delete ",8,se)])]))),128))])])])),t[20]||(t[20]=e("div",{class:"container-fluid d-flex flex-row justify-content-between align-items-center"},[e("div",null,[e("button",{class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Add Beneficiary ")]),e("div",{class:"d-flex flex-row gap-2 align-items-center"},[e("button",{class:"btn btn-success"},"Save")])],-1))],32),e("div",ne,[e("div",ae,[e("div",de,[t[23]||(t[23]=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"exampleModalLabel"}," Add beneficiary "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",re,[e("form",{onSubmit:f(g,["prevent"]),class:"form"},[n(e("input",{type:"text",placeholder:"Name",class:"form-control mb-2","onUpdate:modelValue":t[11]||(t[11]=o=>d.value.name=o),required:""},null,512),[[a,d.value.name]]),n(e("input",{type:"text",placeholder:"Relation",class:"form-control mb-2","onUpdate:modelValue":t[12]||(t[12]=o=>d.value.relation=o),required:""},null,512),[[a,d.value.relation]]),n(e("input",{type:"number",placeholder:"Age",class:"form-control mb-2","onUpdate:modelValue":t[13]||(t[13]=o=>d.value.age=o),required:""},null,512),[[a,d.value.age]]),t[21]||(t[21]=e("label",null,"Date of birth",-1)),n(e("input",{type:"date",placeholder:"Bithdate",class:"form-control mb-2","onUpdate:modelValue":t[14]||(t[14]=o=>d.value.birth_date=o),required:""},null,512),[[a,d.value.birth_date]]),t[22]||(t[22]=e("div",{class:"container d-flex justify-content-end gap-2 mt-1"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close "),e("button",{type:"submit",class:"btn btn-primary","data-bs-dismiss":"modal"}," Save changes ")],-1))],32)])])])])])])])]),_:1})],64))}},ve=B(ie,[["__scopeId","data-v-c59cc71f"]]);export{ve as default};
