import{r as _,l as w,B as x,f as l,o as i,a as c,u as p,g as C,w as b,b as t,F as A,G as E,t as d,h as v,S as I,d as U,W as f}from"./app-DWiHdejm.js";import{A as L}from"./AdminLayout-BWPX31Kq.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo1-BZ0h4foK.js";const B={class:"container mt-5"},N={class:"table table-striped table-bordered"},M={class:"d-flex gap-2 position-relative"},D=["onClick"],V={key:0,class:"dropdown-menu show shadow-sm p-2 rounded",style:{position:"absolute",top:"30px",right:"0",background:"white","z-index":"10"}},$=["onClick"],q=["onClick"],F={__name:"Index",props:{users:Array,currentUserId:Number},setup(u){const h=u,a=_(null),m=o=>{const s=document.querySelectorAll(".dropdown-menu"),e=document.querySelectorAll(".bi-three-dots-vertical");let n=!1;s.forEach(r=>{r.contains(o.target)&&(n=!0)}),e.forEach(r=>{r.contains(o.target)&&(n=!0)}),n||(a.value=null)};w(()=>{window.addEventListener("click",m)}),x(()=>{window.removeEventListener("click",m)});const g=o=>{a.value=a.value===o?null:o},k=o=>{f.delete(route("role.deleteUser",{id:o}))},y=o=>{f.get(route("activityLog.edit",{id:o}))};return(o,s)=>(i(),l("div",null,[c(p(C),{title:"Activity logs"}),c(L,null,{default:b(()=>[t("div",B,[s[2]||(s[2]=t("h3",{class:"mb-4"},"Activity Logs",-1)),s[3]||(s[3]=t("p",{class:"text-muted"},"System users",-1)),t("table",N,[s[1]||(s[1]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Name"),t("th",{scope:"col"},"Email"),t("th",{scope:"col"},"Users"),t("th",{scope:"col"},"Action")])],-1)),t("tbody",null,[(i(!0),l(A,null,E(u.users,e=>(i(),l("tr",{key:e.id,class:"position-relative"},[t("td",null,d(e.id),1),t("td",null,d(e.name),1),t("td",null,d(e.email),1),t("td",null,d(e.role),1),t("td",M,[c(p(I),{href:o.route("activityLog.viewUser",{id:e.id}),class:"text-dark text-decoration-none"},{default:b(()=>s[0]||(s[0]=[t("i",{class:"bi bi-eye"},null,-1)])),_:2},1032,["href"]),t("i",{class:"bi bi-three-dots-vertical",onClick:U(n=>g(e.id),["stop"])},null,8,D),a.value===e.id?(i(),l("div",V,[t("button",{class:"btn btn-sm btn-outline-primary w-100 mb-1",onClick:n=>y(e.id)},"Edit",8,$),h.currentUserId!=e.id?(i(),l("button",{key:0,class:"btn btn-sm btn-outline-danger w-100",onClick:n=>k(e.id)},"Delete",8,q)):v("",!0)])):v("",!0)])]))),128))])])])]),_:1})]))}},j=S(F,[["__scopeId","data-v-7d44ece6"]]);export{j as default};
