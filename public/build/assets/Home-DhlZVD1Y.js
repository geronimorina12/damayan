import{r as p,C as J,x as B,s as O,j,f as n,o as r,a as S,b as e,u as o,g as K,h as g,e as w,t as k,N as H,d as Q,i as m,D as y,I as N,L as G,n as z,F as D,O as X,E as Z,w as W,G as ee,S as te,W as se}from"./app-BduWwRy9.js";import{A as le}from"./AdminLayout-D32tZ7BG.js";import{M as I}from"./bootstrap.esm-B0YAJBZY.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo1-BZ0h4foK.js";const oe={class:"main-container"},ae={class:"container border-0 pt-2"},ie={class:"card-body px-3"},ne={key:0,class:"alert alert-success alert-dismissible fade show",role:"alert"},re={key:1,class:"alert alert-warning alert-dismissible fade show",role:"alert"},de={class:"row mb-3"},ue={class:"col-md-4 mb-2 mb-md-0"},ce={class:"col-md-4 mb-2 mb-md-0"},me={class:"col-md-4"},pe={class:"mb-3"},be={key:0,value:"president"},ve={key:1,value:"purok_leader"},fe={key:0,class:"bg-white ask-card mb-5 rounded-xl p-6 w-100 mx-auto max-w-sm animate-fade-in"},_e={class:"text-xl font-semibold text-gray-800 mb-4"},ye={key:0},ge={key:1},we={class:"mb-4 d-flex align-items-center justify-content-start"},ke={class:"collector-toggle"},xe={class:"toggle-switch"},he=["disabled"],$e={class:"form-check-label",for:"collector"},Ce={key:0,class:"text-danger"},Se={key:1},Me={class:"mb-3"},Ve={class:"mb-3"},Ee={class:"mb-3"},Te={key:0,class:"text-danger"},Oe={class:"mb-3"},Ue={key:2},Pe={class:"mb-3"},Ae={class:"w-100 d-flex flex-row align-items-center justify-content-between"},je={class:"w-50"},Ne=["max"],De={class:"w-50"},Ie=["min"],Le={class:"d-flex justify-content-start align-items-center my-4"},Fe={class:"collector-toggle"},qe={class:"toggle-switch"},Re=["checked"],Be=["disabled"],He={key:0},Ge={key:1},ze={__name:"Add",props:{closeModal:{},closeModalModifiers:{},parentMessage:{},parentMessageModifiers:{}},emits:["update:closeModal","update:parentMessage"],setup(M){const f=p(!1),_=p("");let x=p(!1),v=p(""),a=p(!1);J(M,"closeModal");const h=p(0),$=J(M,"parentMessage"),C=p({}),c=p(!1),t=B({first_name:"",middle_initial:"",last_name:"",name:"",email:"",password:"",re_password:"",position:"",term_start:"",term_end:"",status:1,role:"collector",purok:"",is_override:!1});async function b(){try{const i=await fetch("/officials/president/has",{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);const s=await i.json();a.value=s.has_president}catch(i){console.error("Error fetching president status:",i)}}async function d(){try{const s=await(await fetch("/collectors/count",{method:"GET",headers:{"Content-Type":"application/json"}})).json();h.value=s.collectors,console.log("Collectors count:",h.value)}catch(i){console.error("Error fetching collectos status:",i)}}async function T(){try{const s=await(await fetch("/officials/count",{method:"GET",headers:{"Content-Type":"application/json"}})).json();C.value=s.data,console.log("officials count:",C.value)}catch(i){console.error("Error fetching collectos status:",i)}}b(),d(),T(),O(()=>t.position,i=>{f.value=i==="purok_leader"},{immediate:!0}),O(f,i=>{i?(t.term_start="",t.term_end="",t.position="purok_leader"):(t.position==="purok_leader"&&(t.position=""),t.email="",t.password="",t.re_password="")});const V=j(()=>t.password===t.re_password);function U(){if(!V.value&&f.value){x.value=!0,v.value="Passwords do not match.";return}const i=t.middle_initial?` ${t.middle_initial}.`:"";if(t.name=`${t.first_name}${i} ${t.last_name}`.trim(),f.value){if(t.email===""){x.value=!0,v.value="Please provide an email.";return}else if(t.password===""){x.value=!0,v.value="Please provide a password.";return}B({name:t.name,email:t.email,password:t.password,role:"collector",purok:t.purok}).post(route("reports.storeCollector"),{onSuccess:()=>{_.value="Collector added successfully!",E(),t.reset(),f.value=!1,setTimeout(()=>_.value="",4e3),$.value="Collector added successfully!"},onError:l=>console.log(l)})}else t.post(route("officials.add"),{onSuccess:()=>{_.value="Official added successfully!",E(),t.reset(),setTimeout(()=>_.value="",4e3),$.value="Official added successfully!"},onError:s=>console.log("An error occurred:",s)})}function E(){const i=document.getElementById("addOfficial");i&&((I.getInstance(i)||new I(i)).hide(),setTimeout(()=>{const l=document.querySelector(".modal-backdrop");l&&l.remove(),document.body.classList.remove("modal-open"),document.body.style.removeProperty("padding-right")},300))}p(!1);const L=()=>{c.value=!1},F=()=>{t.is_override=!0,c.value=!1};O(()=>t.position,i=>{if(!i)return;const s=i+"_count";C.value[s]&&C.value[s]>0?c.value=!0:(c.value=!1,U())});const q=new Date().toISOString().split("T")[0],P=j(()=>{const i=new Date;return i.setDate(i.getDate()-1),i.toISOString().split("T")[0]}),A=j(()=>q);return(i,s)=>(r(),n(D,null,[S(o(K),{title:"Add Official"}),e("div",oe,[e("div",ae,[e("div",ie,[_.value?(r(),n("div",ne,[s[15]||(s[15]=e("i",{class:"bi bi-check-circle-fill me-2"},null,-1)),w(" "+k(_.value)+" ",1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:s[0]||(s[0]=l=>_.value="")})])):g("",!0),o(x)?(r(),n("div",re,[s[16]||(s[16]=e("i",{class:"bi bi-exclamation-circle-fill me-2"},null,-1)),w(" "+k(o(v))+" ",1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:s[1]||(s[1]=l=>H(v)?v.value="":v="")})])):g("",!0),e("form",{onSubmit:Q(U,["prevent"])},[s[39]||(s[39]=e("label",{class:"form-label fw-semibold"},"Full Name",-1)),e("div",de,[e("div",ue,[m(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>o(t).first_name=l),type:"text",class:"form-control",placeholder:"e.g. Juan",required:""},null,512),[[y,o(t).first_name]])]),e("div",ce,[m(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>o(t).middle_initial=l),type:"text",maxlength:"1",class:"form-control",placeholder:"M.I. (optional)"},null,512),[[y,o(t).middle_initial]])]),e("div",me,[m(e("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>o(t).last_name=l),type:"text",class:"form-control",placeholder:"e.g. Reyes",required:""},null,512),[[y,o(t).last_name]])])]),e("div",pe,[s[22]||(s[22]=e("label",{for:"position",class:"form-label fw-semibold"},"Position",-1)),m(e("select",{id:"position",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=l=>o(t).position=l),required:""},[s[17]||(s[17]=e("option",{disabled:"",value:""},"Select a position",-1)),o(a)?g("",!0):(r(),n("option",be,"President")),s[18]||(s[18]=e("option",{value:"vice_president"},"Vice President",-1)),s[19]||(s[19]=e("option",{value:"secretary"},"Secretary",-1)),s[20]||(s[20]=e("option",{value:"treasurer"},"Treasurer",-1)),s[21]||(s[21]=e("option",{value:"auditor"},"Auditor",-1)),h.value<4?(r(),n("option",ve,"Purok Leader")):g("",!0)],512),[[N,o(t).position]])]),c.value?(r(),n("div",fe,[e("h2",_e,[s[23]||(s[23]=w(" Do you want to override this current ")),o(t).position=="vice_president"?(r(),n("span",ye,"vice president")):(r(),n("span",ge,k(o(t).position||"official"),1)),s[24]||(s[24]=w(" ? "))]),e("div",{class:"flex justify-end gap-3 mt-6"},[e("button",{onClick:L,class:"px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-100 transition"}," Cancel "),e("button",{onClick:F,class:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition"}," Yes ")])])):g("",!0),e("div",we,[e("div",ke,[e("label",xe,[m(e("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=l=>f.value=l),disabled:h.value>=4},null,8,he),[[G,f.value]]),s[25]||(s[25]=e("span",{class:"toggle-slider"},null,-1))]),e("span",{class:z(["status-label",f.value==="active"?"active":"inactive"])},null,2)]),e("div",null,[e("label",$e,[s[26]||(s[26]=w("Register as Collector ")),h.value>=4?(r(),n("p",Ce," Purok leader / Collector limit has been reached. ")):g("",!0)])])]),f.value?(r(),n("div",Se,[e("div",Me,[s[27]||(s[27]=e("label",{for:"email",class:"form-label fw-semibold"},"Email",-1)),m(e("input",{"onUpdate:modelValue":s[7]||(s[7]=l=>o(t).email=l),type:"email",id:"email",class:"form-control",placeholder:"juan45@gmail.com"},null,512),[[y,o(t).email]])]),e("div",Ve,[s[28]||(s[28]=e("label",{for:"password",class:"form-label fw-semibold"},"Password",-1)),m(e("input",{"onUpdate:modelValue":s[8]||(s[8]=l=>o(t).password=l),type:"password",id:"password",class:"form-control",placeholder:"I@mJuan45_"},null,512),[[y,o(t).password]])]),e("div",Ee,[s[29]||(s[29]=e("label",{for:"re_password",class:"form-label fw-semibold"},"Re-enter Password",-1)),m(e("input",{"onUpdate:modelValue":s[9]||(s[9]=l=>o(t).re_password=l),type:"password",id:"re_password",class:"form-control",placeholder:"Re-enter password"},null,512),[[y,o(t).re_password]]),V.value?g("",!0):(r(),n("small",Te,"Passwords do not match"))]),e("div",Oe,[s[31]||(s[31]=e("label",{for:"purok",class:"form-label fw-semibold"},"Purok",-1)),m(e("select",{class:"form-control","onUpdate:modelValue":s[10]||(s[10]=l=>o(t).purok=l)},s[30]||(s[30]=[e("option",{value:"1"},"Purok 1",-1),e("option",{value:"2"},"Purok 2",-1),e("option",{value:"3"},"Purok 3",-1),e("option",{value:"4"},"Purok 4",-1)]),512),[[N,o(t).purok]])])])):(r(),n("div",Ue,[e("div",Pe,[s[32]||(s[32]=e("label",{for:"email",class:"form-label fw-semibold"},"Email",-1)),m(e("input",{"onUpdate:modelValue":s[11]||(s[11]=l=>o(t).email=l),type:"email",id:"email",class:"form-control",placeholder:"juan45@gmail.com"},null,512),[[y,o(t).email]])]),e("div",Ae,[e("div",je,[s[33]||(s[33]=e("label",{for:"term_start",class:"form-label fw-semibold"},"Term Start",-1)),m(e("input",{"onUpdate:modelValue":s[12]||(s[12]=l=>o(t).term_start=l),type:"date",id:"term_start",class:"form-control",max:P.value,required:""},null,8,Ne),[[y,o(t).term_start]])]),e("div",De,[s[34]||(s[34]=e("label",{for:"term_end",class:"form-label fw-semibold"},"Term End",-1)),m(e("input",{"onUpdate:modelValue":s[13]||(s[13]=l=>o(t).term_end=l),type:"date",id:"term_end",class:"form-control",min:A.value,required:""},null,8,Ie),[[y,o(t).term_end]])])])])),e("div",Le,[e("div",Fe,[e("label",qe,[m(e("input",{type:"checkbox",checked:i.isCollectorClicked===o(t).status,id:"status","onUpdate:modelValue":s[14]||(s[14]=l=>o(t).status=l),"true-value":"1","false-value":"0"},null,8,Re),[[G,o(t).status]]),s[35]||(s[35]=e("span",{class:"toggle-slider"},null,-1))]),e("span",{class:z(["status-label",f.value==="active"?"active":"inactive"])},null,2)]),s[36]||(s[36]=e("div",null,[e("label",{class:"form-check-label",for:"status"},"Active Status")],-1))]),e("button",{type:"submit",class:"btn btn-primary w-100 py-2 shadow-sm",disabled:o(t).processing||f.value&&!V.value},[o(t).processing?(r(),n("span",Ge,s[38]||(s[38]=[e("span",{class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},null,-1),w(" Saving... ")]))):(r(),n("span",He,s[37]||(s[37]=[e("i",{class:"bi bi-save me-2"},null,-1),w(" Save Record")])))],8,Be)],32)])])])],64))}},Ye=Y(ze,[["__scopeId","data-v-e40a209a"]]),Je={class:"main-container"},We={class:"container border-0 pt-2"},Ke={class:"card-body px-3"},Qe={key:0,class:"alert alert-success alert-dismissible fade show",role:"alert"},Xe={key:1,class:"alert alert-danger alert-dismissible fade show",role:"alert"},Ze={class:"row mb-3"},et={class:"col-md-4 mb-2 mb-md-0"},tt={class:"col-md-4 mb-2 mb-md-0"},st={class:"col-md-4"},lt={class:"mb-3"},ot={class:"mb-3"},at={class:"mb-3"},it={class:"mb-3"},nt={class:"container px-0 px-0 d-flex flex-row justify-content-start align-items-center gap-2 mb-2"},rt={class:"status-cell"},dt={class:"status-toggle"},ut={class:"toggle-switch"},ct=["checked"],mt=["disabled"],pt={key:0},bt={key:1},vt={__name:"Edit",props:{official:{type:Object,default:()=>({})}},setup(M){const f=M,_=p(""),x=p(""),v=p(!1),a=B({first_name:"",middle_initial:"",last_name:"",email:"",position:"",term_start:"",term_end:"",status:1});O(()=>f.official,c=>{if(c&&Object.keys(c).length){const[t,b,d]=h(c.name);a.first_name=t,a.middle_initial=b,a.last_name=d,a.email=c.email||"",a.position=c.position||"",a.term_start=c.term_start||"",a.term_end=c.term_end||"",a.status=c.status??0}},{immediate:!0});function h(c=""){const t=c.trim().split(" "),b=t[0]||"",d=t[t.length-1]||"",T=t.length>2?t[1].replace(".",""):"";return[b,T,d]}function $(){const c=a.middle_initial?` ${a.middle_initial}.`:"",t=`${a.first_name}${c} ${a.last_name}`.trim();_.value="",x.value="",v.value=!1,a.put(route("officials.editData",{id:f.official.id}),{data:{name:t,position:a.position,term_start:a.term_start,term_end:a.term_end,status:a.status,email:a.email},onSuccess:()=>{_.value="Official updated successfully!",setTimeout(()=>{C()},500)},onError:b=>{v.value=!0,x.value=Object.values(b).flat().join(" "),console.error(b)}})}function C(){const c=document.getElementById("editOfficial");if(!c)return;let t=I.getInstance(c);t||(t=new I(c)),t.hide();const b=document.getElementsByClassName("modal-backdrop");for(;b[0];)b[0].parentNode.removeChild(b[0]);document.body.classList.remove("modal-open")}return(c,t)=>{const b=X("Head");return r(),n(D,null,[S(b,{title:"Edit Official"}),e("div",Je,[e("div",We,[e("div",Ke,[_.value?(r(),n("div",Qe,[t[10]||(t[10]=e("i",{class:"bi bi-check-circle-fill me-2"},null,-1)),w(" "+k(_.value)+" ",1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:t[0]||(t[0]=d=>_.value="")})])):g("",!0),v.value?(r(),n("div",Xe,[t[11]||(t[11]=e("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),w(" "+k(x.value)+" ",1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:t[1]||(t[1]=d=>v.value=!1)})])):g("",!0),e("form",{onSubmit:Q($,["prevent"])},[t[21]||(t[21]=e("label",{class:"form-label fw-semibold"},"Full Name",-1)),e("div",Ze,[e("div",et,[m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>o(a).first_name=d),type:"text",class:"form-control",placeholder:"First Name",required:""},null,512),[[y,o(a).first_name]])]),e("div",tt,[m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>o(a).middle_initial=d),type:"text",maxlength:"1",class:"form-control",placeholder:"M.I."},null,512),[[y,o(a).middle_initial]])]),e("div",st,[m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>o(a).last_name=d),type:"text",class:"form-control",placeholder:"Last Name",required:""},null,512),[[y,o(a).last_name]])])]),e("div",lt,[t[13]||(t[13]=e("label",{for:"position",class:"form-label fw-semibold"},"Position",-1)),m(e("select",{id:"position",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=d=>o(a).position=d),required:""},t[12]||(t[12]=[Z('<option disabled value="" data-v-2875ab9f>Select a position</option><option value="president" data-v-2875ab9f>President</option><option value="vice_president" data-v-2875ab9f>Vice President</option><option value="secretary" data-v-2875ab9f>Secretary</option><option value="treasurer" data-v-2875ab9f>Treasurer</option><option value="auditor" data-v-2875ab9f>Auditor</option><option value="purok_leader" data-v-2875ab9f>Purok Leader</option>',7)]),512),[[N,o(a).position]])]),e("div",ot,[t[14]||(t[14]=e("label",{for:"email",class:"form-label fw-semibold"},"Email",-1)),m(e("input",{"onUpdate:modelValue":t[6]||(t[6]=d=>o(a).email=d),type:"email",id:"email",class:"form-control",placeholder:"juan45@gmail.com"},null,512),[[y,o(a).email]])]),e("div",at,[t[15]||(t[15]=e("label",{for:"term_start",class:"form-label fw-semibold"},"Term Start",-1)),m(e("input",{"onUpdate:modelValue":t[7]||(t[7]=d=>o(a).term_start=d),type:"date",id:"term_start",class:"form-control",required:""},null,512),[[y,o(a).term_start]])]),e("div",it,[t[16]||(t[16]=e("label",{for:"term_end",class:"form-label fw-semibold"},"Term End",-1)),m(e("input",{"onUpdate:modelValue":t[8]||(t[8]=d=>o(a).term_end=d),type:"date",id:"term_end",class:"form-control",required:""},null,512),[[y,o(a).term_end]])]),e("div",nt,[e("div",rt,[e("div",dt,[e("label",ut,[m(e("input",{type:"checkbox",checked:o(a).status,"onUpdate:modelValue":t[9]||(t[9]=d=>o(a).status=d)},null,8,ct),[[G,o(a).status]]),t[17]||(t[17]=e("span",{class:"toggle-slider"},null,-1))])])]),t[18]||(t[18]=e("div",null,"Status",-1))]),e("button",{type:"submit",class:"btn btn-primary w-100 py-2 shadow-sm",disabled:o(a).processing},[o(a).processing?(r(),n("span",bt,t[20]||(t[20]=[e("span",{class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},null,-1),w(" Updating... ")]))):(r(),n("span",pt,t[19]||(t[19]=[e("i",{class:"bi bi-save me-2"},null,-1),w(" Update Record ")])))],8,mt)],32)])])])],64)}}},ft=Y(vt,[["__scopeId","data-v-2875ab9f"]]),_t={class:"modern-container"},yt={class:"scroll-content"},gt={class:"d-flex flex-wrap align-items-center mb-3 gap-2"},wt={class:"input-group",style:{"max-width":"300px"}},kt={class:"input-group",style:{"max-width":"200px"}},xt={key:0,class:"alert alert-success alert-dismissible fade show position-fixed top-0 end-0 mt-3 me-3 shadow-lg",role:"alert",style:{"z-index":"9999","min-width":"280px"}},ht={class:"content-wrapper"},$t={key:0,class:"table-container"},Ct={class:"table-responsive"},St={class:"modern-table"},Mt={class:"text-center"},Vt={class:"text-start"},Et={class:"text-center"},Tt=["onClick"],Ot=["onClick"],Ut={key:1,class:"empty-state text-center py-5"},Pt={class:"footer-actions d-flex justify-content-between mt-4"},At={class:"modal fade",id:"addOfficial",tabindex:"-1","aria-labelledby":"addOfficialLabel","aria-hidden":"true"},jt={class:"modal-dialog modern-modal"},Nt={class:"modal-content"},Dt={class:"modal-body"},It={class:"modal fade",id:"editOfficial",tabindex:"-1","aria-labelledby":"editOfficialLabel","aria-hidden":"true"},Lt={class:"modal-dialog modern-modal"},Ft={class:"modal-content"},qt={class:"modal-body"},Rt={key:0,class:"modal fade show d-block",tabindex:"-1",role:"dialog",style:{"background-color":"rgba(0,0,0,0.5)"}},Bt={class:"modal-dialog modal-dialog-centered",role:"document"},Ht={class:"modal-content"},Gt={class:"modal-header"},zt={class:"modal-title"},Yt={class:"modal-body"},Jt={class:"modal-footer"},Wt={__name:"Home",props:{officials:Array},setup(M){const f=M;let _=p([]),x=p({}),v=p(""),a=p("active");const h=p(""),$=p(!1),C=p(""),c=p(""),t=p(""),b=p(null),d=p(null),T=(s,l,u,R=null)=>{C.value=s,c.value=l,t.value="confirm",b.value=u,d.value=R,$.value=!0},V=(s,l)=>{C.value=s,c.value=l,t.value="alert",$.value=!0},U=()=>{b.value&&d.value?b.value(d.value):b.value&&b.value(),$.value=!1},E=()=>{$.value=!1,b.value=null,d.value=null},L=s=>{T("Delete Official","Are you sure you want to delete this official? This action cannot be undone.",F,s)},F=s=>{se.delete(route("officials.delete",{id:s}),{onSuccess:()=>V("Success","Official deleted successfully."),onError:()=>V("Error","Failed to delete the official.")})},q=s=>{x.value=s},P=s=>{const l=new Date(s);if(isNaN(l.getTime()))return"~";const u={year:"numeric"};return l.toLocaleDateString(void 0,u)},A=j(()=>_.value.filter(s=>{const l=s.name.toLowerCase().includes(v.value.toLowerCase())||s.position.toLowerCase().includes(v.value.toLowerCase()),u=a.value==="all"?!0:a.value==="active"||s.role==="collector"?s.status:!s.status;return l&&u})),i=s=>s?s.charAt(0).toUpperCase()+s.slice(1):"";return O(()=>f.officials,s=>{_.value=s},{immediate:!0}),(s,l)=>(r(),n(D,null,[S(o(K),{title:"View officials"}),S(le,null,{default:W(()=>[e("div",_t,[e("div",yt,[l[13]||(l[13]=e("div",{class:"header-section mb-3 d-flex align-items-center justify-content-between"},[e("h5",{class:"fw-light mb-0"},"Protec Damayan Officials")],-1)),e("div",gt,[e("div",wt,[l[3]||(l[3]=e("span",{class:"input-group-text bg-white"},[e("i",{class:"bi bi-search"})],-1)),m(e("input",{type:"text",class:"form-control",placeholder:"Search by name or position...","onUpdate:modelValue":l[0]||(l[0]=u=>H(v)?v.value=u:v=u)},null,512),[[y,o(v)]])]),e("div",kt,[l[5]||(l[5]=e("span",{class:"input-group-text bg-white"},[e("i",{class:"bi bi-funnel"})],-1)),m(e("select",{class:"form-select","onUpdate:modelValue":l[1]||(l[1]=u=>H(a)?a.value=u:a=u)},l[4]||(l[4]=[e("option",{value:"active",selected:""},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)]),512),[[N,o(a)]])])]),h.value?(r(),n("div",xt,[l[6]||(l[6]=e("i",{class:"bi bi-check-circle-fill me-2"},null,-1)),w(" "+k(h.value)+" ",1),e("button",{type:"button",class:"btn-close",onClick:l[2]||(l[2]=u=>h.value="")})])):g("",!0),e("div",ht,[A.value.length>0?(r(),n("div",$t,[e("div",Ct,[e("table",St,[l[9]||(l[9]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Position"),e("th",null,"Term"),e("th",{class:"text-center"},"Status"),e("th",{class:"text-center"},"Actions")])],-1)),e("tbody",null,[(r(!0),n(D,null,ee(A.value,u=>(r(),n("tr",{key:u.id},[e("td",null,k(u.name),1),e("td",null,[e("span",null,k(u.position==="vice_president"?"Vice President":i(u.position)||"Collector"),1)]),e("td",null,k(P(u.term_start||u.created_at))+" - "+k(P(u.term_end||new Date(new Date(u.created_at).setFullYear(new Date(u.created_at).getFullYear()+2)))),1),e("td",Mt,[e("div",Vt,[e("span",{class:z([u.status||u.role==="collector"?"text-success":"text-danger inactive-status","fw-bold status-label ps-3"])},k(u.status||u.role==="collector"?"Active":"Inactive"),3)])]),e("td",Et,[e("button",{class:"btn btn-outline-primary btn-sm me-2",onClick:R=>q(u),"data-bs-toggle":"modal","data-bs-target":"#editOfficial"},l[7]||(l[7]=[e("i",{class:"bi bi-pencil text-dark"},null,-1)]),8,Tt),e("button",{class:"btn btn-outline-danger btn-sm",onClick:R=>L(u.id)},l[8]||(l[8]=[e("i",{class:"bi bi-trash text-dark"},null,-1)]),8,Ot)])]))),128))])])])])):(r(),n("div",Ut,l[10]||(l[10]=[e("i",{class:"bi bi-people fs-1 text-secondary mb-2"},null,-1),e("h5",null,"No Officials Found",-1),e("p",{class:"text-muted"},"Try adjusting your search or filters.",-1)]))),e("div",Pt,[S(o(te),{href:s.route("role.index"),class:"btn btn-secondary"},{default:W(()=>l[11]||(l[11]=[e("i",{class:"bi bi-shield-lock me-1"},null,-1),w(" User Roles ")])),_:1},8,["href"]),l[12]||(l[12]=e("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addOfficial"},[e("i",{class:"bi bi-plus-lg me-1"}),w(" Add New Official ")],-1))])])])]),e("div",At,[e("div",jt,[e("div",Nt,[l[14]||(l[14]=e("div",{class:"modal-header"},[e("h2",{class:"modal-title"},"Add Official"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",Dt,[S(Ye)])])])]),e("div",It,[e("div",Lt,[e("div",Ft,[l[15]||(l[15]=e("div",{class:"modal-header"},[e("h2",{class:"modal-title"},"Edit Official"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",qt,[S(ft,{official:o(x)},null,8,["official"])])])])]),$.value?(r(),n("div",Rt,[e("div",Bt,[e("div",Ht,[e("div",Gt,[e("h5",zt,k(C.value),1),e("button",{type:"button",class:"btn-close",onClick:E,"aria-label":"Close"})]),e("div",Yt,[e("p",null,k(c.value),1)]),e("div",Jt,[t.value==="confirm"?(r(),n("button",{key:0,type:"button",class:"btn btn-secondary",onClick:E}," Cancel ")):g("",!0),t.value==="confirm"?(r(),n("button",{key:1,type:"button",class:"btn btn-primary",onClick:U}," Confirm ")):g("",!0),t.value==="alert"?(r(),n("button",{key:2,type:"button",class:"btn btn-primary",onClick:E}," OK ")):g("",!0)])])])])):g("",!0)]),_:1})],64))}},ts=Y(Wt,[["__scopeId","data-v-059cbb2a"]]);export{ts as default};
