import{x as w,r as y,c as k,o as f,w as b,a as c,b as s,u as l,g as x,f as S,h as V,e as p,d as C,i as a,n,D as d,t as m,I as E,S as U}from"./app-DI8Sip0-.js";import{A as g}from"./AdminLayout-BLWzalW5.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo1-BZ0h4foK.js";const T={class:"main-container"},B={class:"container py-5"},A={class:"card rounded-4 p-4 border-0"},D={key:0,class:"alert alert-success alert-dismissible fade show",role:"alert"},M={class:"mb-3"},j={class:"invalid-feedback"},q={class:"mb-3"},F={class:"invalid-feedback"},I={class:"mb-3"},P={class:"invalid-feedback"},R={class:"mb-3"},z={class:"invalid-feedback"},L={class:"mb-3"},O={class:"mb-3"},$={class:"d-flex justify-content-end gap-2 mt-4"},G=["disabled"],H={__name:"Edit",props:{user:{type:Object,default:()=>({})}},setup(v){const r=v,t=w({name:r.user.name||"",email:r.user.email||"",role:r.user.role||"",password:"",term_start:r.user.term_start||"",term_end:r.user.term_end||""}),i=y(!1),_=()=>{t.put(route("role.update",{user:r==null?void 0:r.user.id}),{onSuccess:()=>{i.value=!0,setTimeout(()=>i.value=!1,3e3)},onError:u=>{console.log("Failed to update user. Please check the form for errors.",u)},preserveScroll:!0})};return(u,e)=>(f(),k(g,null,{default:b(()=>[c(l(x),{title:"Edit User"}),s("div",T,[s("div",B,[s("div",A,[e[16]||(e[16]=s("h4",{class:"mb-4 text-primary"},"Edit",-1)),i.value?(f(),S("div",D,[e[7]||(e[7]=p(" User updated successfully! ")),s("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=o=>i.value=!1),"aria-label":"Close"})])):V("",!0),s("form",{onSubmit:C(_,["prevent"]),class:"pb-5"},[s("div",M,[e[8]||(e[8]=s("label",{for:"name",class:"form-label"},"Name",-1)),a(s("input",{id:"name","onUpdate:modelValue":e[1]||(e[1]=o=>l(t).name=o),type:"text",class:n(["form-control",{"is-invalid":l(t).errors.name}]),placeholder:"Full name"},null,2),[[d,l(t).name]]),s("div",j,m(l(t).errors.name),1)]),s("div",q,[e[9]||(e[9]=s("label",{for:"email",class:"form-label"},"Email",-1)),a(s("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=o=>l(t).email=o),type:"email",class:n(["form-control",{"is-invalid":l(t).errors.email}]),placeholder:"example@email.com"},null,2),[[d,l(t).email]]),s("div",F,m(l(t).errors.email),1)]),s("div",I,[e[11]||(e[11]=s("label",{for:"role",class:"form-label"},"Role",-1)),a(s("select",{id:"role","onUpdate:modelValue":e[3]||(e[3]=o=>l(t).role=o),class:n(["form-select",{"is-invalid":l(t).errors.role}]),disabled:""},e[10]||(e[10]=[s("option",{value:"",disabled:""},"Select Role",-1),s("option",{value:"collector"},"Collector",-1)]),2),[[E,l(t).role]]),s("div",P,m(l(t).errors.role),1)]),s("div",R,[e[12]||(e[12]=s("label",{for:"password",class:"form-label"},[p(" New Password "),s("small",{class:"text-muted"},"(leave blank to keep)")],-1)),a(s("input",{id:"password","onUpdate:modelValue":e[4]||(e[4]=o=>l(t).password=o),type:"password",class:n(["form-control",{"is-invalid":l(t).errors.password}]),placeholder:"••••••••"},null,2),[[d,l(t).password]]),s("div",z,m(l(t).errors.password),1)]),s("div",L,[e[13]||(e[13]=s("label",{for:"term_start",class:"form-label fw-semibold"},"Term Start",-1)),a(s("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>l(t).term_start=o),type:"date",id:"term_start",class:"form-control",required:""},null,512),[[d,l(t).term_start]])]),s("div",O,[e[14]||(e[14]=s("label",{for:"term_end",class:"form-label fw-semibold"},"Term End",-1)),a(s("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>l(t).term_end=o),type:"date",id:"term_end",class:"form-control",required:""},null,512),[[d,l(t).term_end]])]),s("div",$,[c(l(U),{href:u.route("role.index"),class:"btn btn-secondary"},{default:b(()=>e[15]||(e[15]=[p("Cancel")])),_:1},8,["href"]),s("button",{type:"submit",class:"btn btn-primary",disabled:l(t).processing}," Save Changes ",8,G)])],32)])])])]),_:1}))}},X=N(H,[["__scopeId","data-v-03d3bca6"]]);export{X as default};
